// Adv prob on BS on answers: 
class Solution {
public:
    bool check(vector<vector<int>> &squares, double mid_y, double total_area) {
        double bot_area = 0.0; 
        for (auto &square: squares) {
            double y = square[1]; 
            double l = square[2]; 
            
            double bot_y = y; 
            double top_y = y + l; 

            if (mid_y >= top_y) {
                bot_area += l * l; 
            }
            else if (mid_y > bot_y) {
                bot_area += (mid_y - bot_y) * l; 
            }
        }
        return bot_area >= total_area / 2.0; 
    }
    double separateSquares(vector<vector<int>>& squares) {
        double low = INT_MAX; 
        double high = INT_MIN;  
        double total_area = 0.0; 
        for (auto &square : squares) {
            double y = square[1]; 
            double l = square[2]; 
            low = min(low, y); 
            high = max(high, y + l);
            total_area += l * l; 
        }
        while (high - low > 1e-5) {
            double mid_y = low + (high - low) / 2; 
            if (check(squares, mid_y, total_area)) {
                high = mid_y; 
            } else {
                low = mid_y; 
            }
        }
        return high; 
    }
};
